(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{166:function(e,t,s){},260:function(e,t,s){},261:function(e,t,s){},262:function(e,t,s){},263:function(e,t,s){},291:function(e,t,s){},300:function(e,t,s){},302:function(e,t,s){},303:function(e,t,s){"use strict";s.r(t);var n,a=s(0),c=s(22),r=s.n(c),i=(s(166),s(71)),o=s(16),j=s(87),l=s(30),m=s(308),u=s(309),b=s(310),d=s(312),h=s(158),O=s(6),p=function(e){var t=e.message,s=e.sendMessage,n=e.setMessage,c=b.a.useForm(),r=Object(l.a)(c,1)[0],i=Object(a.useRef)(null);return Object(O.jsxs)(b.a,{initialValues:{remember:!0},layout:"inline",style:{width:"80%"},onFinish:function(){s(),r.resetFields(),i.current.focus()},form:r,children:[Object(O.jsx)(b.a.Item,{name:"message",rules:[{required:!1}],style:{marginRight:0,width:"80%"},children:Object(O.jsx)(d.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:t,ref:i,onChange:function(e){return n(e.target.value)},style:{marginRight:0}})}),Object(O.jsx)(b.a.Item,{style:{width:"20%",marginRight:0},children:Object(O.jsx)(h.a,{type:"primary",htmlType:"submit",style:{marginRight:0,width:"100%"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},f=s(154),x=s.n(f),g=(s(260),function(e){var t=e.message,s=e.name,n=!1;return t.user.toLowerCase()===s.toLowerCase()&&(n=!0),n?Object(O.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(O.jsx)("span",{className:"userName",style:{paddingRight:5},children:t.user})," ",Object(O.jsx)("span",{className:"bgBlue",children:t.text})]}):Object(O.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(O.jsx)("span",{className:"bgGray",children:t.text}),Object(O.jsx)("span",{className:"userName",style:{paddingLeft:5},children:t.user})]})}),y=(s(261),function(e){var t=e.messages,s=e.name;return Object(O.jsx)(x.a,{className:"messages",children:t.map((function(e,t){return Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(g,{message:e,name:s})," "]},t)}))})}),v=s(311),w=s(313),C=s(314),N=(s(262),function(e){var t=e.users,s=e.room;return Object(O.jsxs)("div",{className:"infoBar",style:{width:"80%",height:40},children:[Object(O.jsx)(w.a,{color:"green",style:{paddingLeft:10}}),"\u041e\u043d\u043b\u0430\u0439\u043d: ",t.length,Object(O.jsx)("div",{style:{flexGrow:1}}),Object(O.jsxs)("span",{onClick:function(e){var t="https://stoic-kare-1f426c.netlify.app/join?room=".concat(s),n=document.createElement("textarea");n.innerText=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove(),v.a.open({message:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u2714",description:"\u0421\u043a\u0438\u043d\u044c\u0442\u0435 \u0435\u0435 \u0434\u0440\u0443\u0433\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0437\u0430\u0448\u0435\u043b \u0432 \u0447\u0430\u0442!\ud83d\ude0e"})},style:{color:"#7b7b7b",paddingRight:5,cursor:"pointer"},children:["\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 ",Object(O.jsx)(C.a,{style:{fontSize:"20px"}})]})]})}),M=(s(263),function(e){return Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsx)(N,{users:e.users,room:e.room}),Object(O.jsx)(y,{messages:e.messages,name:e.name}),Object(O.jsx)(p,{sendMessage:e.sendMessage,setMessage:e.setMessage,message:e.message})]})}),S=function(e){var t=e.users;return Object(O.jsxs)("div",{style:{color:"white"},children:[Object(O.jsx)("h2",{style:{color:"white"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043e\u043d\u043b\u0430\u0439\u043d:"}),t?t.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{color:"green",style:{paddingLeft:10}})," ",Object(O.jsx)("span",{children:e.name})]})})):""]})},I=s(155),F=s.n(I),R=(s(291),s(85)),k=s.n(R),E="https://fora-soft-test-termoplan.herokuapp.com/",L=function(e){var t={"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]},s=Object(a.useState)(""),c=Object(l.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)(""),b=Object(l.a)(o,2),d=b[0],h=b[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),x=f[0],g=f[1],y=Object(a.useState)(""),v=Object(l.a)(y,2),w=v[0],C=v[1],N=Object(a.useState)([]),I=Object(l.a)(N,2),R=I[0],L=I[1];Object(a.useEffect)((function(){var s=k.a.parse(e.location.search),a=s.name,c=s.room;h(c),i(a),(n=F.a.connect(E,t)).emit("join",{name:a,room:c},(function(e){e&&alert(e)}))}),[E,e.location.search]),Object(a.useEffect)((function(){n.on("message",(function(e){L((function(t){return[].concat(Object(j.a)(t),[e])}))})),n.on("roomData",(function(e){var t=e.users;g(t)}))}),[]);return Object(O.jsx)("div",{children:Object(O.jsxs)(m.a,{justify:"center",align:"middle",className:"roomContainer",children:[Object(O.jsx)(u.a,{span:"12",children:Object(O.jsx)(M,{messages:R,name:r,users:x,sendMessage:function(){w&&(n.emit("sendMessage",w,(function(){return C("")})),console.log(w))},setMessage:C,room:d})}),Object(O.jsx)(u.a,{span:"12",children:Object(O.jsx)(S,{users:x})})]})})},T=s(27),q=(s(300),s(62)),B={labelCol:{span:8},wrapperCol:{span:8}},V={wrapperCol:{offset:8,span:16}},G=function(){var e=Object(o.e)(),t=Object(a.useState)(),s=Object(l.a)(t,2),n=s[0],c=s[1];return Object(O.jsx)("div",{className:"outerContainer",children:Object(O.jsxs)(b.a,Object(T.a)(Object(T.a)({className:"loginForm"},B),{},{name:"basic",initialValues:{remember:!0},onFinish:function(){var t=Object(q.d)({dictionaries:[q.a,q.c,q.b]});e.push("/room?name=".concat(n,"&room=").concat(t))},children:[Object(O.jsx)(b.a.Item,{label:Object(O.jsx)("label",{style:{color:"white"},children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),name:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",style:{color:"white"},rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"}],children:Object(O.jsx)(d.a,{onChange:function(e){return c(e.target.value)}})}),Object(O.jsx)(b.a.Item,Object(T.a)(Object(T.a)({},V),{},{children:Object(O.jsx)(h.a,{type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})}))]}))})},J=(s(302),{labelCol:{span:8},wrapperCol:{span:8}}),z={wrapperCol:{offset:8,span:16}},A=function(e){var t=Object(o.e)(),s=Object(a.useState)(),n=Object(l.a)(s,2),c=n[0],r=n[1],i=k.a.parse(e.location.search).room;return Object(O.jsx)("div",{className:"outerContainer",children:Object(O.jsxs)(b.a,Object(T.a)(Object(T.a)({className:"loginForm"},J),{},{name:"basic",initialValues:{remember:!0},onFinish:function(){t.push("/room?name=".concat(c,"&room=").concat(i))},children:[Object(O.jsx)(b.a.Item,{label:Object(O.jsx)("label",{style:{color:"white"},children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),name:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",style:{color:"white"},rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"}],children:Object(O.jsx)(d.a,{onChange:function(e){return r(e.target.value)}})}),Object(O.jsx)(b.a.Item,Object(T.a)(Object(T.a)({},z),{},{children:Object(O.jsx)(h.a,{type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})}))]}))})},D=function(){return Object(O.jsxs)(i.a,{children:[Object(O.jsx)(o.a,{path:"/",exact:!0,component:G}),Object(O.jsx)(o.a,{path:"/join",component:A}),Object(O.jsx)(o.a,{path:"/room",component:L})]})};r.a.render(Object(O.jsx)(D,{}),document.getElementById("root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.9ee0575e.chunk.js.map